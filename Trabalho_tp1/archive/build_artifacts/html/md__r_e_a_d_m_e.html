<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TP1 - Sistema de Hoteis: Trabalho TP1 - Sistema de Gerenciamento de HotÃ©is</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TP1 - Sistema de Hoteis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__r_e_a_d_m_e.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Trabalho TP1 - Sistema de Gerenciamento de HotÃ©is </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md145"></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md146"></a>
ğŸ“‹ DescriÃ§Ã£o</h1>
<p>Sistema em C++17 para gerenciamento de hotÃ©is com funcionalidades de:</p><ul>
<li><b>AutenticaÃ§Ã£o</b> de gerentes</li>
<li><b>CRUD</b> de gerentes, hotÃ©is, quartos e hÃ³spedes</li>
<li><b>Gerenciamento de reservas</b> com detecÃ§Ã£o de conflitos</li>
<li><b>ValidaÃ§Ã£o de domÃ­nios</b> (nome, email, ramal, senha, etc.)</li>
<li><b>Testes automatizados</b> com coverage completo</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md148"></a>
ğŸ”§ CompilaÃ§Ã£o</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md149"></a>
PrÃ©-requisitos</h2>
<ul>
<li>Compilador: <span class="tt">g++</span> (versÃ£o 7+)</li>
<li>Sistema: Windows/Linux/macOS com bash</li>
<li>Flags: C++17 com exceÃ§Ãµes habilitadas</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md150"></a>
Compilar AplicaÃ§Ã£o Principal</h2>
<div class="fragment"><div class="line">cd c:\Users\Acer\Documents\Estudos\Meus_repositorios\Projeto-TP1\Trabalho_tp1</div>
<div class="line">g++ -Wall -fexceptions -std=c++17 *.cpp -o Trabalho_tp1.exe</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md151"></a>
Compilar Suite de Testes</h2>
<div class="fragment"><div class="line"># Testes de integraÃ§Ã£o (18 testes)</div>
<div class="line">g++ -Wall -fexceptions -std=c++17 *.cpp tests/test_all.cpp -o tests/test_all.exe</div>
<div class="line"> </div>
<div class="line"># Testes CRUD dedicados (Gerente, Hotel, HÃ³spede)</div>
<div class="line">g++ -Wall -fexceptions -std=c++17 *.cpp tests/test_crud.cpp -o tests/test_crud.exe</div>
</div><!-- fragment --><hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md153"></a>
ğŸš€ ExecuÃ§Ã£o</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md154"></a>
AplicaÃ§Ã£o Interativa</h2>
<div class="fragment"><div class="line"># Executar menu principal</div>
<div class="line">./Trabalho_tp1.exe</div>
</div><!-- fragment --><p><b>Fluxo do Menu:</b></p><ol type="1">
<li><b>Menu Principal</b> â€” OpÃ§Ãµes: 1 (Login), 2 (Sair)</li>
<li><b>AutenticaÃ§Ã£o</b> â€” Digite email e senha de um gerente registrado</li>
<li><b>Menu Autenticado</b> â€” OpÃ§Ãµes:<ul>
<li>1: Menu Pessoal (CRUD de gerentes e hÃ³spedes)</li>
<li>2: Menu Gerenciamento (CRUD de hotÃ©is e quartos)</li>
<li>3: Menu <a class="el" href="class_reserva.html" title="Entidade que representa uma reserva de quarto.">Reserva</a> (criar/listar/deletar reservas)</li>
<li>4: Logout</li>
</ul>
</li>
</ol>
<p><b>Dados PadrÃ£o (de <span class="tt">tests/test_all.cpp</span>):</b></p><ul>
<li><b><a class="el" href="class_gerente.html" title="Entidade que representa um gerente do sistema.">Gerente</a></b>: email=<span class="tt">gerente@hotel.com</span>, senha=<span class="tt">A1a$2</span></li>
<li><b>HÃ³spede</b>: email=<span class="tt">hospede@email.com</span>, telefone=<span class="tt">11999999999</span>, cartÃ£o=<span class="tt">1111111111111111</span></li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md155"></a>
Testes Automatizados</h2>
<div class="fragment"><div class="line"># Executar testes de integraÃ§Ã£o (18 testes)</div>
<div class="line">./tests/test_all.exe</div>
<div class="line"> </div>
<div class="line"># Executar testes CRUD (Gerente, Hotel, HÃ³spede)</div>
<div class="line">./tests/test_crud.exe</div>
<div class="line"> </div>
<div class="line"># Ambos devem exibir &quot;[PASS]&quot; para cada caso</div>
</div><!-- fragment --><p><b>Resultado Esperado:</b> </p><div class="fragment"><div class="line">[PASS] Gerente: criar</div>
<div class="line">[PASS] Gerente: autenticar</div>
<div class="line">[PASS] Gerente: editar</div>
<div class="line">...</div>
<div class="line">[PASS] Hotel: deletar quartos</div>
<div class="line">Fim dos testes.</div>
</div><!-- fragment --><hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md157"></a>
ğŸ“ Regras de ValidaÃ§Ã£o de DomÃ­nios</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DomÃ­nio  </th><th class="markdownTableHeadNone">Regra  </th><th class="markdownTableHeadNone">Exemplo  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b><a class="el" href="class_nome.html" title="Dominio para nomes de pessoas.">Nome</a></b>  </td><td class="markdownTableBodyNone">5-20 caracteres, capitalizado  </td><td class="markdownTableBodyNone">"JoÃ£o Silva"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b><a class="el" href="class_email.html" title="Dominio para endereco de email.">Email</a></b>  </td><td class="markdownTableBodyNone">Formato RFC (<a href="#" onclick="location.href='mai'+'lto:'+'use'+'r@'+'dom'+'ai'+'n.e'+'xt'; return false;">user@<span class="obfuscator">.nosp@m.</span>doma<span class="obfuscator">.nosp@m.</span>in.ex<span class="obfuscator">.nosp@m.</span>t</a>)  </td><td class="markdownTableBodyNone">"joao@hotel.com"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b><a class="el" href="class_ramal.html" title="Dominio para numero de ramal interno.">Ramal</a></b>  </td><td class="markdownTableBodyNone">Exatamente 2 dÃ­gitos, 00-50  </td><td class="markdownTableBodyNone">"05", "25", "50"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b><a class="el" href="class_senha.html" title="Dominio para senha de usuario.">Senha</a></b>  </td><td class="markdownTableBodyNone">5 caracteres, sem consecutivos de mesmo tipo, requer: maiÃºscula, minÃºscula, dÃ­gito, especial (!"#$%&amp;?)  </td><td class="markdownTableBodyNone">"A1a$2", "B2b%3"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">**CÃ³digo**  </td><td class="markdownTableBodyNone">10 caracteres alfanumÃ©ricos (a-z, 0-9)  </td><td class="markdownTableBodyNone">"hotel12345"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">**NÃºmero**  </td><td class="markdownTableBodyNone">1-4 dÃ­gitos  </td><td class="markdownTableBodyNone">"101", "1"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">**EndereÃ§o**  </td><td class="markdownTableBodyNone">5-40 caracteres  </td><td class="markdownTableBodyNone">"Av. Paulista 1000"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">**Data**  </td><td class="markdownTableBodyNone">Formato DDMMYYYY  </td><td class="markdownTableBodyNone">"15011990"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">**Telefone**  </td><td class="markdownTableBodyNone">10-11 dÃ­gitos  </td><td class="markdownTableBodyNone">"11999999999"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">**CartÃ£o**  </td><td class="markdownTableBodyNone">16 dÃ­gitos  </td><td class="markdownTableBodyNone">"1111111111111111"  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">**Capacidade**  </td><td class="markdownTableBodyNone">1-10 pessoas  </td><td class="markdownTableBodyNone">"4"  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">**Dinheiro**  </td><td class="markdownTableBodyNone">0.00 a 99999.99  </td><td class="markdownTableBodyNone">"1500.00"  </td></tr>
</table>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md159"></a>
ğŸ—ï¸ Arquitetura</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md160"></a>
Estrutura de Arquivos</h2>
<div class="fragment"><div class="line">â”œâ”€â”€ dominios.{hpp,cpp}          # Value objects com validaÃ§Ã£o</div>
<div class="line">â”œâ”€â”€ entidades.{hpp,cpp}         # Entities (Pessoa, Gerente, Hospede, Hotel, Quarto, Reserva)</div>
<div class="line">â”œâ”€â”€ interfaces.hpp              # Service contracts (IA_*/IS_*)</div>
<div class="line">â”œâ”€â”€ controladoria.cpp           # Presentation controllers</div>
<div class="line">â”œâ”€â”€ apresentacao_menu.cpp       # Menu driver</div>
<div class="line">â”œâ”€â”€ containers.hpp              # In-memory storage</div>
<div class="line">â”œâ”€â”€ stubs.{hpp,cpp}             # Service implementations</div>
<div class="line">â”œâ”€â”€ main.cpp                    # Entry point &amp; wiring</div>
<div class="line">â””â”€â”€ tests/</div>
<div class="line">    â”œâ”€â”€ test_all.cpp            # Integration tests (18 casos)</div>
<div class="line">    â””â”€â”€ test_crud.cpp           # Dedicated CRUD tests</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md161"></a>
PadrÃµes de Design</h2>
<ul>
<li><b>Domain-Driven Design</b>: ValidaÃ§Ã£o em value objects (dominios)</li>
<li><b>Repository Pattern</b>: Containers para persistÃªncia em memÃ³ria</li>
<li><b>Service Locator</b>: Stub services gerenciados em main.cpp</li>
<li><b>Presentation Model</b>: Controllers separam UI da lÃ³gica</li>
<li><b>Cascade Delete</b>: RemoÃ§Ã£o de hÃ³spede/hotel remove entidades relacionadas (reservas, quartos)</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md163"></a>
âœ… Testes</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md164"></a>
Test All (<span class="tt">test_all.exe</span>) â€” 18 Testes</h2>
<ol type="1">
<li><b>AutenticaÃ§Ã£o</b>: Criar gerente, autenticar com sucesso</li>
<li><b>CRUD <a class="el" href="class_gerente.html" title="Entidade que representa um gerente do sistema.">Gerente</a></b>: Criar, editar, deletar</li>
<li><b>CRUD <a class="el" href="class_hotel.html" title="Entidade que representa um hotel no sistema.">Hotel</a></b>: Criar, editar, deletar</li>
<li><b>CRUD <a class="el" href="class_quarto.html" title="Entidade que representa um quarto de hotel.">Quarto</a></b>: Criar em hotel, editar, deletar</li>
<li><b>CRUD <a class="el" href="class_reserva.html" title="Entidade que representa uma reserva de quarto.">Reserva</a></b>: Criar com validaÃ§Ã£o de conflito</li>
<li><b>Cascade Delete</b>: Remover hÃ³spede/hotel e verificar limpeza de referÃªncias</li>
</ol>
<h2 class="doxsection"><a class="anchor" id="autotoc_md165"></a>
Test CRUD (<span class="tt">test_crud.exe</span>) â€” Testes Dedicados</h2>
<p>Cada entidade (<a class="el" href="class_gerente.html" title="Entidade que representa um gerente do sistema.">Gerente</a>, <a class="el" href="class_hotel.html" title="Entidade que representa um hotel no sistema.">Hotel</a>, HÃ³spede) Ã© testada com:</p><ul>
<li><b>Create</b>: Inserir novo registro</li>
<li><b>Read</b>: Recuperar por chave primÃ¡ria</li>
<li><b>Edit</b>: Atualizar campo sem alterar PK</li>
<li><b>Delete</b>: Remover e verificar nÃ£o-existÃªncia</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md167"></a>
ğŸ› Troubleshooting</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md168"></a>
Problema: "Prompt nÃ£o aparece / opÃ§Ã£o ignorada"</h2>
<p><b>Causa</b>: Buffering de entrada (mistura de <span class="tt">std::cin &gt;&gt;</span> e <span class="tt">getline</span>). <b>SoluÃ§Ã£o</b>: Usar <span class="tt">getline</span> para todos os inputs (jÃ¡ implementado).</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md169"></a>
Problema: "Senha/Ramal invÃ¡lido"</h2>
<p><b>Causa</b>: Formato de entrada errado. <b>Verificar</b>:</p><ul>
<li><a class="el" href="class_ramal.html" title="Dominio para numero de ramal interno.">Ramal</a>: exatamente 2 dÃ­gitos (00-50)</li>
<li><a class="el" href="class_senha.html" title="Dominio para senha de usuario.">Senha</a>: 5 caracteres com: maiÃºscula, minÃºscula, dÃ­gito, especial</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md170"></a>
Problema: "CompilaÃ§Ã£o falha com sÃ­mbolos nÃ£o encontrados"</h2>
<p><b>SoluÃ§Ã£o</b>: Incluir todos os <span class="tt">.cpp</span> na compilaÃ§Ã£o: </p><div class="fragment"><div class="line">g++ -Wall -fexceptions -std=c++17 *.cpp tests/test_all.cpp -o tests/test_all.exe</div>
</div><!-- fragment --><hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md172"></a>
ğŸ“š DocumentaÃ§Ã£o</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md173"></a>
DocumentaÃ§Ã£o Doxygen (HTML)</h2>
<p>Todos os cabeÃ§alhos (.hpp) contÃªm <b>anotaÃ§Ãµes Doxygen</b> para geraÃ§Ã£o automÃ¡tica de documentaÃ§Ã£o.</p>
<p><b>ğŸ“ Acessar documentaÃ§Ã£o gerada:</b></p><ul>
<li>Windows: <span class="tt">start html\index.html</span></li>
<li>macOS: <span class="tt">open html/index.html</span></li>
<li>Linux: <span class="tt">xdg-open html/index.html</span></li>
</ul>
<p><b>ğŸ“Š Arquivos principais:</b></p><ul>
<li><span class="tt">html/index.html</span> â€” PÃ¡gina inicial</li>
<li><span class="tt">html/classes.html</span> â€” Lista de classes</li>
<li><span class="tt">html/annotated.html</span> â€” Classes com detalhes</li>
<li><span class="tt">html/modules.html</span> â€” MÃ³dulos (defgroups)</li>
</ul>
<p><b>ğŸ“– AnotaÃ§Ãµes Doxygen usadas:</b></p><ul>
<li><span class="tt">@class</span> â€” DefiniÃ§Ã£o de classe</li>
<li><span class="tt">@<a class="el" href="classbrief.html">brief</a></span> â€” DescriÃ§Ã£o breve</li>
<li><span class="tt">@details</span> â€” Detalhes expandidos</li>
<li><span class="tt">@param</span> â€” ParÃ¢metros de funÃ§Ã£o</li>
<li><span class="tt">@return</span> â€” Valor retornado</li>
<li><span class="tt">@throw</span> â€” ExceÃ§Ãµes lanÃ§adas</li>
<li><span class="tt">@defgroup</span> â€” Agrupamento de mÃ³dulos</li>
</ul>
<p><b>ğŸ”§ Gerar documentaÃ§Ã£o novamente:</b> </p><div class="fragment"><div class="line">doxygen Doxyfile</div>
</div><!-- fragment --><p><b>ğŸ“ DocumentaÃ§Ã£o em Markdown:</b></p><ul>
<li><span class="tt">README.md</span> â€” InstruÃ§Ãµes de execuÃ§Ã£o</li>
<li><span class="tt">CRITERIOS_AVALIACAO.md</span> â€” VerificaÃ§Ã£o de critÃ©rios de avaliaÃ§Ã£o</li>
<li><span class="tt">DOCUMENTACAO.md</span> â€” Ãndice de acesso rÃ¡pido Ã  documentaÃ§Ã£o HTML</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md175"></a>
ğŸ“ Nota Sobre Reservas</h1>
<ul>
<li>Reservas armazenam <b>referÃªncias nÃ£o-proprietÃ¡rias</b> (apontadores raw) para Hotel/Quarto/HÃ³spede</li>
<li>Ao deletar um hÃ³spede, todas as suas reservas sÃ£o removidas automaticamente (cascade delete)</li>
<li>Ao deletar um hotel, todas as suas reservas sÃ£o removidas automaticamente</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md177"></a>
ğŸ¯ Status Atual</h1>
<ul>
<li>âœ… Input handling robusto (getline para todos os inputs)</li>
<li>âœ… ValidaÃ§Ã£o de domÃ­nios completa e testada</li>
<li>âœ… CRUD funcional para todas entidades</li>
<li>âœ… Testes automatizados (18 + dedicated CRUD)</li>
<li>âœ… DocumentaÃ§Ã£o Doxygen em todos os headers</li>
<li>âœ… Cascade delete operacional</li>
<li>â³ PK protection (opcional) â€” impedir ediÃ§Ã£o de chaves primÃ¡rias</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md179"></a>
ğŸ‘¤ Autor</h1>
<p>Desenvolvido como parte do Trabalho PrÃ¡tico 1 (TP1).</p>
<hr  />
<p><b>Ãšltima atualizaÃ§Ã£o</b>: Atual <br  />
 <b>Status</b>: âœ… Funcional | âœ… Testado | âœ… Documentado </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
